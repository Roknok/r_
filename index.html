<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>A Love Letter?</title>
  <style>
    body {
      margin: 0;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, #ffdde1, #ee9ca7);
      font-family: 'Georgia', serif;
    }

    .envelope {
      width: 90vmin; /* shorter side scaling */
      aspect-ratio: 1.5;
      background: #fff0f5;
      position: relative;
      cursor: pointer;
      perspective: 1000px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
      border-radius: 8px;
    }

    .flap {
      width: 100%;
      height: 100%;
      background: #f08080;
      position: absolute;
      top: 0;
      left: 0;
      transform-origin: top;
      transition: transform 1s ease;
      clip-path: polygon(0 0, 50% 50%, 100% 0);
      border-radius: 8px 8px 0 0;
    }

    .grey {
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.1);
      position: absolute;
      top: 0;
      left: 0;
      transform-origin: top;
      transition: transform 1s ease;
      clip-path: polygon(0 0, 50% 50%, 100% 0);
      border-radius: 8px 8px 0 0;
    }

    .crease {
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.2);
      position: absolute;
      top: 0;
      left: 0;
      transform-origin: top;
      transition: transform 1s ease;
      clip-path: polygon(-0.5% 0, 100% 100.5%,100.5% 100%, 0.5% 0);
      border-radius: 8px;
    }

    .crease2 {
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.2);
      position: absolute;
      top: 0;
      left: 0;
      transform-origin: top;
      transition: transform 1s ease;
      clip-path: polygon(-0.5% 100%, 100.5% -1%,100.5% 0, 0% 100.5%);
      border-radius: 8px;
    }

    .letter {
      font-size: 3vmin; /* scalable text */
      width: 90%;
      height: 90%;
      background: #fff;
      position: absolute;
      top: 5%;
      left: 5%;
      padding: 3vh;
      box-sizing: border-box;
      border-radius: 6px;
      box-shadow: inset 0 0 8px rgba(0,0,0,0.1);
      opacity: 0;
      transition: opacity 1s ease 0.5s;
      text-align: center;
      overflow: hidden;
    }

    .letter.show {
      opacity: 1;
    }

    .letter.hide {
      opacity: 0;
      transition: opacity 0.1s ease;
    }

    .letter h2 {
      color: #d6336c;
      margin-bottom: 3vmin;
    }

    .letter p {
      color: #444;
      line-height: 1.5;
    }

    .open .flap {
      transform: rotateX(-180deg);
    }

    /* Heart shape with CSS */
    .heart {
      position: absolute;
      top: 40%; /* above the envelope */
      left: 50%;
      width: 14vmin;
      height: 14vmin;
      background: #d6336c;
      transform: translateX(-50%) rotate(-45deg);
      transition: transform 1.2s ease, opacity 1.2s ease;
      pointer-events: none;
    }

    .heart::before,
    .heart::after {
      content: '';
      position: absolute;
      width: 14vmin;
      height: 14vmin;
      background: #d6336c;
      border-radius: 50%;
    }

    .heart::before {
      top: -7vmin;
      left: 0;
    }

    .heart::after {
      left: 7vmin;
      top: 0;
    }

    .heart.fly {
      transform: translate(-50%, -300%) scale(0.5) rotate(20deg);
      opacity: 0;
    }
  </style>
</head>
<body>
  <div class="envelope" id="envelope">
    <div class="grey"></div>
    <div class="crease"></div>
    <div class="crease2"></div>
    <div class="flap"></div>
    
    <!-- Heart drawn with CSS -->
    <div class="heart" id="heart"></div>
    
    <div class="letter" id="letter">
      <h2>My Dearest ‚ù§Ô∏è</h2>
      <p>
        Since you came into my life, everything has felt brighter and more meaningful. Thinking of you fills me with happiness, and you make me feel truly complete. Your presence is as melodious as music, and every moment with you makes my world better. Forever and always, my heart is yours. üíå
      </p>
    </div>
  </div>

  <script>
    const envelope = document.getElementById('envelope');
    const letter = document.getElementById('letter');
    const heart = document.getElementById('heart');

    envelope.addEventListener('click', () => {
      const isOpen = envelope.classList.toggle('open');

      if (isOpen) {
        letter.classList.remove('hide');
        letter.classList.add('show');
        heart.classList.add('fly'); // heart flies away
      } else {
        letter.classList.remove('show');
        letter.classList.add('hide');
        heart.classList.remove('fly'); // reset heart
      }
    });
  </script>
</body>
</html>
